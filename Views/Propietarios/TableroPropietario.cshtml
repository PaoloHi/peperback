@model PropiedadesModelTablero

@{
    Layout = "_NavUsuarios";
       ViewData["Title"] = "Rummet / Tablero de propietario";
}



<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Proyecto_administracion</title>
    <link rel="icon" type="image/png" sizes="16x16" href="~/img/imagen-logo/logo_oficial.png">
    <link rel="stylesheet" href="~/css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/css/styles-tablero-contact-center.css">
    <script src="https://kit.fontawesome.com/e43b4d35fb.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>

    <link rel="stylesheet" href="~/css/estilosGenerales.css" />

     <link rel="stylesheet" href="~/css/styleGeneral.css" />

    <script src="~/js/locales-all.js"></script>
    <title>Detalle Propiedad</title>
</head>

<!--animacion-->
<ul class="circles">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
</ul>


<section class="container-fluid">

    <h4 class="ms-2 tituloVista"> Propietario </h4>
    <div class="row contenedorGeneralBlanco mx-3">
        <div class="col-12">
            <div class="message-user position-relative">
                <!--<a asp-controller="Administracion" asp-action="DatosPropietario">
                    <img src="~/img/Imagen-de-usuario/imagen-perfil-ejemplo.png" class="back-image-header img-fluid position-absolute pos-img-usuario">
                </a>-->
                <div class="name-user">Bienvenid&#64; @Model.NombreUsuario</div>
                <div class="message-default">
                    Es un gusto tenerte de vuelta, aquí tienes un resumen...
                </div>
            </div>
        </div>
        <div class="col-12 col-md-12 col-lg-12 col-xl-8 ">
            <div class="btn-option shadow">
                <div class="message-btn-option">
                    <h5>Mis propiedades</h5>
                </div>
                <!--indicadores-->
                <div class="row tab margin-tablinks mx-auto ">

                    @{
                        var NoP = 0;
                        var PuP = 0;
                        var PrP = 0;
                        var PrP2 = 0;
                        var PPG = 0;

                        foreach (var ContP in Model.ConteoPropiedades)
                        {
                            if (ContP.EstatusPropiedad == "En revisión")
                            {
                                NoP = ContP.Conteo;
                            }
                            if (ContP.EstatusPropiedad == "Aprobada")
                            {
                                PuP = ContP.Conteo;
                            }
                            if (ContP.EstatusPropiedad == "En proceso de venta")
                            {
                                PrP = ContP.Conteo;
                            }
                            if (ContP.EstatusPropiedad == "En proceso de renta")
                            {
                                PrP2 = ContP.Conteo;

                            }
                        }

                        PPG = PrP + PrP2;

                    }

                    <div class="col px-0">
                        <button id="NP" type="button" class="changeCard border-0 d-flex tablinks2 tarjetaNoPublicadasDefault" onclick="vertablas(event, 'Tabla2')" id="">
                            <div class="caja-a-b mb-2 mb-xl-0 ">
                                <div class="card-main col-12 mt-2 d-flex align-items-center">
                                    <div class="col-6 mt-3 d-flex justify-content-center">


                                        <div class=" d-flex justify-content-center">
                                            <p class="size-letter-cards-first ms-2 my-auto">No publicadas</p>
                                        </div>
                                    </div>
                                    <div class="col-6 d-flex justify-content-center">
                                        <div class="text-cards d-flex mt-3  indicator-nopublicadas">
                                            <h6 class="mx-auto text-white my-auto size-number-indicator">@NoP</h6>
                                        </div>
                                    </div>



                                </div>

                            </div>
                        </button>

                    </div>

                    <div class="col px-0">
                        <button id="PP" type="button" class="border-0 changeCard d-flex  tablinks2" onclick="vertablas(event, 'Tablapubli')">
                            <div class="caja-a-b mb-xl-0">
                                <div class="card-main col-12 d-flex align-items-center mt-2">
                                    <div class="col-6 mt-3 justify-content-center d-flex">


                                        <div class=" d-flex justify-content-center ">
                                            <p class="size-letter-cards-first ms-2 my-auto">Publicadas</p>
                                        </div>
                                    </div>
                                    <div class="col-6  d-flex justify-content-center">
                                        <div class="text-cards d-flex mt-3  indicator-publicadas">
                                            <h6 class="mx-auto text-white my-auto size-number-indicator">@PuP</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </button>
                    </div>

                    <div class="col px-0">
                        <button id="PL" type="button" class="border-0 changeCard d-flex tablinks2" onclick="vertablas(event, 'TablaprocesoEntrega')">
                            <div class="caja-a-b mx-auto mb-2 mb-xl-0">
                                <div class="card-main col-12 d-flex align-items-center">
                                    <div class="col-6 mt-3 justify-content-center d-flex ">


                                        <div class=" d-flex justify-content-center">
                                            <p class="size-letter-cards-first ms-2 my-auto">En proceso de entrega</p>
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-center col-6">
                                        <div class="text-cards d-flex mt-4 indicator-enproceso">
                                            <h6 class="mx-auto text-white my-auto size-number-indicator">@PPG</h6>
                                        </div>
                                    </div>



                                </div>
                            </div>
                        </button>
                    </div>

                </div>
            </div>

            <!--no publicada-->
            <div class="px-0  tabcontent2 mb-3" id="Tabla2">
                <div class="container-fluid px-0 mx-auto row">
                    <div class="col shadow contenedorPropietarioNP">
                       
                        <!--Botones de visualización para ver las tarjetas o la tabla-->
                        <div class="tab rounded ms-4 my-2">
                            <button class="changeFormat tablinks  tarjetaNoPublicadasDefault  OpenCarta" onclick="openCity(event, 'Tarjetas')" 
                                 
                                    title="Vista tarjeta">
                                <svg class="size-icons-table" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2">
                                    </path>
                                </svg>
                            </button>


                            <button id="table" class=" changeFormat tablinks" onclick="openCity(event, 'Tabla')"
                                  
                                    title="Vista tabla">
                                <i class="fa-solid fa-table mt-1" style="font-size:20px; color: rgb(71, 71, 71);"></i>
                            </button>


                        </div>

                        <!--tarjeta para no publicada-->
                        <div id="Tarjetas" class="tabcontent">

                            <div class="row row-cols-xxl-3 row-cols-lg-2 row-cols-md-1 responsiveExtraSmall">
                                @{
                                    var countA1 = 0;
                                    var idCarusel1 = "";
                                    var count1 = 0;
                                    var activa1 = "";
                                    foreach (var NP in Model.PropiedadesNL)
                                    {

                                        countA1 = countA1 + 1;
                                        idCarusel1 = "carouselExampleFade" + countA1;
                                        count1 = 0;

                                        <div id="IDpropiedad_@NP.IDPropiedad" class="col carta NP ">
                                            <div class="caja-a-propie mb-2  mx-auto shadow position-relative w-auto ">

                                                <div class="card-main col-12  d-flex  ms-1">
                                                    <div class="col-5 mt-4 ms-1 ">
                                                        <div id="@idCarusel1" class="carousel slide carousel-fade "
                                                             data-bs-ride="carousel">
                                                            <div class="carousel-inner">

                                                                @foreach (var IPN in Model.PropNLImagenBase64)
                                                                {
                                                                    count1 = count1 + 1;

                                                                    if (count1 == 1)
                                                                    {
                                                                        activa1 = "carousel-item active";
                                                                    }
                                                                    else
                                                                    {

                                                                        activa1 = "carousel-item";
                                                                    }

                                                                    if (IPN.IDpropiedadBase64 == NP.IDPropiedad)
                                                                    {
                                                                        <div class=" @activa1 image-contain carousel-adaptar" style="background-image:url(@IPN.txtBase64)"></div>
                                                                    }

                                                                    if (IPN.IDpropiedadBase64 != NP.IDPropiedad)
                                                                    {
                                                                        count1 = 0;
                                                                    }
                                                                }

                                                            </div>
                                                            <button class="carousel-control-prev" type="button"
                                                                    data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                <span class="visually-hidden">Previous</span>
                                                            </button>
                                                            <button class="carousel-control-next" type="button"
                                                                    data-bs-target="#carouselExampleFade" data-bs-slide="next">
                                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                <span class="visually-hidden">Next</span>
                                                            </button>
                                                        </div>



                                                    </div>
                                                    @{
                                                        var classAbrevNP = "";


                                                        switch (@NP.Abrev)
                                                        {
                                                            case "Depto.":
                                                                classAbrevNP = "title-cards-mp-depto ";
                                                                break;
                                                            case "Bodega":
                                                                classAbrevNP = "title-cards-mp-bodega";
                                                                break;
                                                            case "Casa":
                                                                classAbrevNP = "title-cards-mp-casa";
                                                                break;
                                                            case "Edif.":
                                                                classAbrevNP = "title-cards-mp-edificio";
                                                                break;
                                                            case "Huerta":
                                                                classAbrevNP = "title-cards-mp-huerta";
                                                                break;
                                                            case "Local":
                                                                classAbrevNP = "title-cards-mp-local";
                                                                break;
                                                            case "Nave":
                                                                classAbrevNP = "title-cards-mp-nave";
                                                                break;
                                                            case "Ofic.":
                                                                classAbrevNP = "title-cards-mp-oficina";
                                                                break;
                                                            case "Quinta":
                                                                classAbrevNP = "title-cards-mp-quinta";
                                                                break;
                                                            case "Rancho":
                                                                classAbrevNP = "title-cards-mp-rancho";
                                                                break;
                                                            case "Terreno":
                                                                classAbrevNP = "title-cards-mp-terreno";
                                                                break;
                                                            case "Villa":
                                                                classAbrevNP = "title-cards-mp-villa";
                                                                break;
                                                            case "Hosp.":
                                                                classAbrevNP = "title-cards-mp-hospital";
                                                                break;
                                                            case "Esc.":
                                                                classAbrevNP = "title-cards-mp-escuela";
                                                                break;
                                                            default:
                                                                classAbrevNP = "title-cards-mp-depto";
                                                                break;
                                                        }
                                                    }
                                                    @{
                                                        var tipoOperacion = "";
                                                        switch (NP.Operacion)
                                                        {
                                                            case "Renta":
                                                                tipoOperacion = "operacionRenta";
                                                                break;
                                                            case "Venta":
                                                                tipoOperacion = "operacionVenta";
                                                                break;
                                                            default:
                                                                tipoOperacion = "title-cards-mp-depto";
                                                                break;
                                                        }
                                                    }
                                                    <!-- INORMACIÓN DE LA TARJETA DE PROPIEDADES -->
                                                    <div class="d-inline-flex @tipoOperacion etiquetadoOperacion justify-content-between ">
                                                        <p class="px-2 text-white m-auto txtOperacion">
                                                            @NP.Operacion
                                                        </p>
                                                    </div>
                                                    <div class="col-6 text-cards ms-2 mt-2 position-relative ">
                                                        <div class="d-inline-flex justify-content-between @classAbrevNP  etiquetadoPropietarioNP">
                                                            <h6 class=" size-mp-cards my-auto ms-1"> @NP.Abrev</h6>

                                                            <h6 class="textEtiquetadoPropietarioNP me-1 my-auto">
                                                                <i class="fa-solid fa-maximize size-mp-cards  ms-3 "></i> @NP.Superficie @NP.UM
                                                            </h6>

                                                        </div>
                                                        <div class="mt-4 ">
                                                            <h6 class="fw-bold ms-2 text-orange longitudDePruebaPropietarioNP">
                                                                @{

                                                                    string numero = @NP.Precio;
                                                                    decimal valor = decimal.Parse(numero);

                                                                    string precioTotalP;
                                                                    if (valor % 1 == 0)
                                                                    {
                                                                        precioTotalP = valor.ToString("N0"); // Formato sin decimales ni separadores de miles
                                                                    }
                                                                    else
                                                                    {
                                                                        precioTotalP = valor.ToString("N2"); // Formato con dos decimales y separadores de miles
                                                                    }

                                                                }

                                                                @precioTotalP @NP.ISO
                                                            </h6>
                                                        </div>

                                                        <div class="size-mp-name-main-house fw-bold ms-2  ">
                                                            <h6 class="size-mp-name-main-house fw-bold longitudDePruebaPropietarioNP">@NP.Titulo</h6>
                                                        </div>

                                                        <div class="size-mp-name-house fw-bold ms-2 ">
                                                            <h6 class="size-mp-name-house longitudDePruebaD">@NP.Direccion </h6>
                                                        </div>

                                                    </div>

                                                </div>

                                                <div class="d-flex row row-cols-2 mt-3">

                                                    <div class="d-flex col my-2 ms-2">

                                                        <h6 class="col-12 fw-bold size-text-publi ">Fecha de publicación:</h6>
                                                        <h6 class="col-12 ms-2  size-text-publi ">@NP.fechaPublicacion</h6>
                                                    </div>

                                                    <div class="d-flex col position-absolute" style="justify-content: end;    right: 20px;   bottom: 12px;">
                                                        <a class=" style-vermas" asp-controller="Propietarios" asp-action="PDetallesPropiedadNP" asp-route-PROPIEDADID=@NP.IDPropiedadG
                                                       title="Ver detalles">
                                                            <i class="fa-solid fa-eye"></i>
                                                        </a>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                            <!--footer nav cards no publicada-->


                            <footer class="d-flex row justify-content-center">
                                <nav id="paginacionNPcarta" aria-label="" class="my-4  d-flex justify-content-center ">
                                </nav>
                            </footer>

                        </div>
                        <!--tabla para no publicada-->
                        <div id="Tabla" class="tabcontent px-0 mb-3  shadow mt-3">
                            <table class="table tabla-hover">
                                <thead>
                                    <tr>
                                        <th class="col-1">Fecha de publicación</th>
                                        <th class="col-3">Propiedad</th>
                                        <th class="col-5">Dirección</th>
                                        <th class="col-2">Broker</th>
                                        <th class="col-1">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var NPT in Model.PropiedadesNL)
                                    {
                                        <tr id="IDpropiedad_@NPT.IDPropiedad" class="table NP  tabla-hover">
                                            <td scope="row">@NPT.fechaPublicacion</td>
                                            <td class="fw-lighter text-center limitado longitudDePrueba"> @NPT.Titulo </td>
                                            <td class="fw-light text-center limitado">@NPT.Direccion</td>
                                            <td class="fw-light text-center">@NPT.NBroker</td>
                                            <td>
                                                <div class="d-flex justify-content-between">
                                                    <a class="style-vermas2" asp-controller="Propiedades" asp-action="DetallesPropiedadNP" asp-route-PROPIEDADID=@NPT.IDPropiedadG
                                                       title="Ver detalles">
                                                        <i class="fa-solid fa-eye"></i>
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>


                            <footer class="d-flex row justify-content-center">
                                <nav id="paginacionNPtable" aria-label="" class="my-4  d-flex justify-content-center ">
                                </nav>
                            </footer>
                        </div>

                    </div>
                </div>
            </div>

            <!--publicada-->
            <div class="px-0  tabcontent2 mb-3" id="Tablapubli">
                <div class="container-fluid px-0 mx-auto row">
                    <div class="col shadow contenedorPropietarioP">
                        
                        <!--Botones de visualización para ver las tarjetas o la tabla-->
                        <div class="tab  rounded ms-4 my-2">
                            <button id="carta" class="changeFormat tarjetaPublicadasDefault tablinks4 OpenCarta" onclick="vercontenedor2(event, 'Tarjetaspubli')" data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    title="Vista tarjeta">
                                <svg class="size-icons-table" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"></path></svg>
                            </button>
                            <button id="table" class=" changeFormat tablinks4" onclick="vercontenedor2(event, 'Tablapublicadas')" data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    title="Vista tabla"><i class="fa-solid fa-table mt-1" style="font-size:20px; color: rgb(71, 71, 71);"></i></button>
                        </div>

                        <!--tarjetas de publicadas-->
                        <div id="Tarjetaspubli" class="tabcontent4">

                            <div class="row row-cols-xxl-3 row-cols-lg-2 row-cols-md-1 responsiveExtraSmall">
                                @{
                                    var countA = 0;
                                    var idCarusel = "";
                                    var count = 0;
                                    var activa = "";


                                    foreach (var PP in Model.PropiedadesL)
                                    {
                                        countA = countA + 1;
                                        idCarusel = "carouselExampleFadeP" + countA;
                                        count = 0;


                                        <div id="IDPropiedad_@PP.IDPropiedad" class="carta PP col ">
                                            <div class="caja-a-propie-publi mb-2  mx-auto shadow position-relative w-auto">
                                                <div class="card-main col-12  d-flex  ms-1 mb-2">
                                                    <div class="col-5 mt-4 ms-1 ">
                                                        <div id="@idCarusel" class="carousel slide carousel-fade"
                                                             data-bs-ride="carousel-1">
                                                            <div class="carousel-inner">

                                                                @foreach (var IPP in Model.PropLImagenBase64)
                                                                {
                                                                    count = count + 1;

                                                                    if (count == 1)
                                                                    {
                                                                        activa = "carousel-item active";
                                                                    }
                                                                    else
                                                                    {

                                                                        activa = "carousel-item";
                                                                    }

                                                                    if (IPP.IDpropiedadBase64 == PP.IDPropiedad)
                                                                    {
                                                                        <div class=" @activa image-contain carousel-adaptar" style="background-image:url(@IPP.txtBase64)"></div>
                                                                        <label>@count</label>
                                                                    }

                                                                    if (IPP.IDpropiedadBase64 != PP.IDPropiedad)
                                                                    {
                                                                        count = 0;
                                                                    }
                                                                }

                                                            </div>
                                                            <button class="carousel-control-prev" type="button"
                                                                    data-bs-target="#@idCarusel" data-bs-slide="prev">
                                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                <span class="visually-hidden">Previous</span>
                                                            </button>
                                                            <button class="carousel-control-next" type="button"
                                                                    data-bs-target="#@idCarusel" data-bs-slide="next">
                                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                <span class="visually-hidden">Next</span>
                                                            </button>
                                                        </div>



                                                    </div>
                                                    @{
                                                        var classAbrev3 = "";
                                                    

                                                        switch (@PP.Abrev)
                                                        {
                                                            case "Depto.":
                                                                classAbrev3 = "title-cards-mp-depto ";
                                                                break;
                                                            case "Bodega":
                                                                classAbrev3 = "title-cards-mp-bodega";
                                                                break;
                                                            case "Casa":
                                                                classAbrev3 = "title-cards-mp-casa";
                                                                break;
                                                            case "Edif.":
                                                                classAbrev3 = "title-cards-mp-edificio";
                                                                break;
                                                            case "Huerta":
                                                                classAbrev3 = "title-cards-mp-huerta";
                                                                break;
                                                            case "Local":
                                                                classAbrev3 = "title-cards-mp-local";
                                                                break;
                                                            case "Nave":
                                                                classAbrev3 = "title-cards-mp-nave";
                                                                break;
                                                            case "Ofic.":
                                                                classAbrev3 = "title-cards-mp-oficina";
                                                                break;
                                                            case "Quinta":
                                                                classAbrev3 = "title-cards-mp-quinta";
                                                                break;
                                                            case "Rancho":
                                                                classAbrev3 = "title-cards-mp-rancho";
                                                                break;
                                                            case "Terreno":
                                                                classAbrev3 = "title-cards-mp-terreno";
                                                                break;
                                                            case "Villa":
                                                                classAbrev3 = "title-cards-mp-villa";
                                                                break;
                                                            case "Hosp.":
                                                                classAbrev3 = "title-cards-mp-hospital";
                                                                break;
                                                            case "Esc.":
                                                                classAbrev3 = "title-cards-mp-escuela";
                                                                break;
                                                            default:
                                                                classAbrev3 = "title-cards-mp-depto";
                                                                break;
                                                        }
                                                    }
                                                    @{
                                                        var tipoOperacionPP = "";
                                                        switch (PP.Operacion)
                                                        {
                                                            case "Renta":
                                                                tipoOperacionPP = "operacionRenta";
                                                                break;
                                                            case "Venta":
                                                                tipoOperacionPP = "operacionVenta";
                                                                break;
                                                            default:
                                                                tipoOperacionPP = "title-cards-mp-depto";
                                                                break;
                                                        }
                                                    }
                                                    <div class="d-inline-flex @tipoOperacionPP etiquetadoOperacion justify-content-between ">
                                                        <p class="px-2 text-white m-auto txtOperacion">
                                                            @PP.Operacion
                                                        </p>
                                                    </div>
                                                    <div class="col-6 text-cards ms-2 mt-2 position-relative">
                                                        <div class="d-inline-flex justify-content-between @classAbrev3  etiquetadoPropietarioP">
                                                            <h6 class=" size-mp-cards my-auto ms-1"> @PP.Abrev</h6>

                                                            <h6 class=" size-mp-cards my-auto me-1">
                                                                <i class="fa-solid fa-maximize size-mp-cards  ms-3 "></i> @PP.Superficie @PP.UM
                                                            </h6>

                                                        </div>
                                                        <div class="mt-4">
                                                            <h6 class="fw-bold ms-2 text-orange longitudDePruebaPropietarioNP">
                                                              

                                                                @{

                                                                    string numero = @PP.Precio;
                                                                    decimal valor = decimal.Parse(numero);

                                                                    string precioTotalP;
                                                                    if (valor % 1 == 0)
                                                                    {
                                                                        precioTotalP = valor.ToString("N0"); // Formato sin decimales ni separadores de miles
                                                                    }
                                                                    else
                                                                    {
                                                                        precioTotalP = valor.ToString("N2"); // Formato con dos decimales y separadores de miles
                                                                    }

                                                                }

                                                                @precioTotalP @PP.ISO
                                                            </h6>
                                                        </div>
                                                        <div class="size-mp-name-main-house ms-2">
                                                            <h6 class="size-mp-name-main-house fw-bold  longitudDePruebaPropietarioNP">
                                                                @PP.Titulo
                                                            </h6>
                                                        </div>
                                                        <div class="size-mp-name-house ms-2"><h6 class="size-mp-name-house  mb-1">@PP.Direccion</h6></div>

                                                    </div>

                                                </div>

                                                <div class="row row-cols-2 align-items-center justify-content-center ">

                                                    <div class="col-8 mb-2 position-relative align-items-center d-flex ms-2 flex-column">

                                                        <div class="d-inline-flex mx-auto">
                                                            <h6 class=" ms-2 my-auto fw-bold size-text-publi ">Tiempo publicada</h6>
                                                            <h6 class=" ms-2 my-auto size-text-publi">@PP.DiasP días</h6>
                                                        </div>
                                                        <div class="ms-2 mt-2 row row-cols-2 d-inline-flex
                justify-content-center size-mp-name-main-house  pos-indicadores-vv " style="width: -webkit-fill-available;">

                                                            <div class="px-0 side-2-header d-inline-flex">
                                                                <i class="fa-solid fa-eye ms-1 me-1 text-orange size-icons-indicators "></i>
                                                                <h6 for="" class="ms-1 size-text-indicators">@PP.Vistas Vistas </h6>
                                                            </div>
                                                            <div class="px-0 side-2-header d-inline-flex">
                                                                <i class="fa-solid fa-address-book ms-1 me-1 text-orange size-icons-indicators"></i>
                                                                <h6 for="" class="ms-1 me-1 size-text-indicators">@PP.Visitas Visitas</h6>
                                                            </div>

                                                        </div>
                                                    </div>

                                                    <div class="col-1 d-flex">

                                                        <a class=" style-vermas" asp-controller="Propietarios" asp-action="PDetallesPropiedadPP" asp-route-PROPIEDADID=@PP.IDPropiedadG title="Ver detalles">
                                                            <i class="fa-solid fa-eye"></i>
                                                        </a>
                                                    </div>
                                                </div>



                                            </div>
                                        </div>


                                    }
                                }
                            </div>

                            <footer class="d-flex row justify-content-center">
                                <nav id="paginacionPPcarta" aria-label="" class="my-4 d-flex justify-content-center">
                                </nav>
                            </footer>


                        </div>

                        <!--tabla de publicadas-->
                        <div id="Tablapublicadas" class="tabcontent4 px-0 mb-3 shadow  mt-3">
                            <div class="table-wrapper-scroll-y my-custom-scrollbar table-responsive ">
                                <table class="table tabla-hover">
                                    <thead>
                                        <tr>
                                            <th class="col">Fecha de publicación</th>
                                            <th class="col">Propiedad</th>
                                            <th class="col">Dirección</th>
                                            <th class="col">Broker</th>
                                            <th class="col">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    @foreach (var PPT in Model.PropiedadesL)
                                    {
                                        <tr id="IDPropiedadTabla_@PPT.IDPropiedad" class=" table PP tabla-hover">
                                            <td scope="row">@PPT.fechaPublicacion</td>
                                            <td class="fw-lighter text-center longitudDePrueba">@PPT.Titulo</td>
                                            <td class="fw-light text-center">@PPT.Direccion</td>
                                            <td class="fw-light text-center">@PPT.NBroker</td>
                                                <td>
                                                    <div class=" d-flex justify-content-between">
                                                        <a class="style-vermas2" asp-controller="Propietarios" asp-action="PDetallesPropiedadPP" asp-route-PROPIEDADID=@PPT.IDPropiedadG title="Ver detalles">
                                                            <i class="fa-solid fa-eye"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                        </tr>
                                    }

                                    </tbody>

                                </table>
                            </div>



                            <footer class="d-flex row justify-content-center">
                                <nav id="paginacionPPtable" aria-label="" class="my-4 d-flex justify-content-center">
                                </nav>
                            </footer>
                        </div>


                    </div>
                </div>
            </div>

            <!--en proceso-->
            <div class="px-0  tabcontent2 mb-3" id="TablaprocesoEntrega">
                <div class="container-fluid px-0 mx-auto row">
                    <div class="col shadow contenedorPropietarioNP">
                       
                        <div class="tab  rounded  ms-4 my-2">
                            <button id="carta" class="changeFormat  tarjetaProcesoDefault  tablinks5 OpenCarta" onclick="vercontenedor3(event, 'Tarjetasproceso')" data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    title="Vista tarjeta">
                                <svg class="size-icons-table" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"></path></svg>
                            </button>
                            <button id="table" class="changeFormat tablinks5" onclick="vercontenedor3(event, 'Tablaproceso')" data-bs-toggle="tooltip" data-bs-placement="bottom"
                                    title="Vista tabla">
                                <i class="fa-solid fa-table mt-1" style="font-size:20px; color: rgb(71, 71, 71);"></i>
                            </button>
                        </div>

                        <!--tarjetas para en proceso-->
                        <div id="Tarjetasproceso" class="tabcontent5 ">

                            <div class="row row-cols-xxl-3 row-cols-lg-2 row-cols-md-1 responsiveExtraSmall">
                                @{
                                    var countAV = 0;
                                    var idCaruselV = "";
                                    var countV = 0;
                                    var activaV = "";

                                    foreach (var PV in Model.PropiedadesPL)
                                    {
                                        countAV = countAV + 1;
                                        idCaruselV = "carouselExampleFadeV" + countAV;
                                        countV = 0;
                                        <div id="IDPropiedad_@PV.IDPropiedad" class="col  carta PL">
                                            <div class="caja-a-propie mb-2  mx-auto w-auto shadow position-relative ">


                                                <div class="card-main col-12  d-flex  ms-1">

                                                    <div class="col-5 mt-4 ms-1 ">

                                                        <div id="@idCaruselV" class="carousel slide carousel-fade"
                                                             data-bs-ride="carousel">
                                                            <div class="carousel-inner">

                                                                @foreach (var IPV in Model.PropPLImagenBase64)
                                                                {
                                                                    countV = countV + 1;

                                                                    if (countV == 1)
                                                                    {
                                                                        activaV = "carousel-item active";
                                                                    }
                                                                    else
                                                                    {

                                                                        activaV = "carousel-item";
                                                                    }

                                                                    if (IPV.IDpropiedadBase64 == PV.IDPropiedad)
                                                                    {
                                                                        <div class=" @activaV image-contain carousel-adaptar" style="background-image:url(@IPV.txtBase64)"></div>

                                                                    }

                                                                    if (IPV.IDpropiedadBase64 != PV.IDPropiedad)
                                                                    {
                                                                        countV = 0;
                                                                    }
                                                                }
                                                            </div>
                                                            <button class="carousel-control-prev" type="button"
                                                                    data-bs-target="#@idCaruselV" data-bs-slide="prev">
                                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                <span class="visually-hidden">Previous</span>
                                                            </button>
                                                            <button class="carousel-control-next" type="button"
                                                                    data-bs-target="#@idCaruselV" data-bs-slide="next">
                                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                <span class="visually-hidden">Next</span>
                                                            </button>
                                                        </div>



                                                    </div>
                                                    @{

                                                        var classAbrev = "";
                                                        switch (@PV.Abrev)
                                                        {
                                                            case "Depto":
                                                                classAbrev = "title-cards-mp-depto ";
                                                                break;
                                                            case "Bodega":
                                                                classAbrev = "title-cards-mp-bodega";
                                                                break;
                                                            case "Casa":
                                                                classAbrev = "title-cards-mp-casa";
                                                                break;
                                                            case "Edif":
                                                                classAbrev = "title-cards-mp-edificio";
                                                                break;
                                                            case "Huerta":
                                                                classAbrev = "title-cards-mp-huerta";
                                                                break;
                                                            case "Local":
                                                                classAbrev = "title-cards-mp-local";
                                                                break;
                                                            case "Nave":
                                                                classAbrev = "title-cards-mp-nave";
                                                                break;
                                                            case "Ofic":
                                                                classAbrev = "title-cards-mp-oficina";
                                                                break;
                                                            case "Quinta":
                                                                classAbrev = "title-cards-mp-quinta";
                                                                break;
                                                            case "Rancho":
                                                                classAbrev = "title-cards-mp-rancho";
                                                                break;
                                                            case "Terreno":
                                                                classAbrev = "title-cards-mp-terreno";
                                                                break;
                                                            case "Villa":
                                                                classAbrev = "title-cards-mp-villa";
                                                                break;
                                                            case "Hosp.":
                                                                classAbrev = "title-cards-mp-hospital";
                                                                break;
                                                            case "Esc.":
                                                                classAbrev = "title-cards-mp-escuela";
                                                                break;
                                                            default:
                                                                classAbrev = "title-cards-mp-depto";
                                                                break;
                                                        }
                                                    }
                                                    @{
                                                        var tipoOperacionPV = "";
                                                        switch (PV.Operacion)
                                                        {
                                                            case "Renta":
                                                                tipoOperacionPV = "operacionRenta";
                                                                break;
                                                            case "Venta":
                                                                tipoOperacionPV = "operacionVenta";
                                                                break;
                                                            default:
                                                                tipoOperacionPV = "title-cards-mp-depto";
                                                                break;
                                                        }
                                                    }
                                                    <!-- INORMACIÓN DE LA TARJETA DE PROPIEDADES -->
                                                    <div class="d-inline-flex @tipoOperacionPV etiquetadoOperacion justify-content-between ">
                                                        <p class="px-2 text-white m-auto txtOperacion">
                                                            @PV.Operacion
                                                        </p>
                                                    </div>

                                                    <div class="col-6 text-cards ms-2 mt-2 position-relative">
                                                        <div class="d-inline-flex justify-content-between @classAbrev  etiquetaProietarioEP">
                                                            <h6 class=" size-mp-cards my-auto ms-1"> @PV.Abrev</h6>

                                                            <h6 class=" size-mp-cards my-auto me-1">
                                                                <i class="fa-solid fa-maximize size-mp-cards  ms-3 "></i> @PV.Superficie @PV.UM
                                                            </h6>

                                                        </div>
                                                        <div class="mt-4">
                                                            <h6 class="fw-bold ms-2 text-orange longitudDePruebaPropietarioNP">
                                                                @{

                                                                    string numero = @PV.Precio;
                                                                    decimal valor = decimal.Parse(numero);

                                                                    string precioTotalP;
                                                                    if (valor % 1 == 0)
                                                                    {
                                                                        precioTotalP = valor.ToString("N0"); // Formato sin decimales ni separadores de miles
                                                                    }
                                                                    else
                                                                    {
                                                                        precioTotalP = valor.ToString("N2"); // Formato con dos decimales y separadores de miles
                                                                    }

                                                                }

                                                                @precioTotalP @PV.ISO
                                                            </h6>
                                                        </div>
                                                        <div class="size-mp-name-main-house ms-2">
                                                            <h6 class="size-mp-name-main-house fw-bold longitudDePruebaPropietarioNP ">
                                                                @PV.Titulo
                                                            </h6>
                                                        </div>
                                                        <div class="size-mp-name-house ms-2">
                                                            <h6 class="size-mp-name-house   ">@PV.Direccion</h6>
                                                        </div>


                                                    </div>

                                                </div>


                                                <div class="row row-col-3 d-inline-flex">
                                                    @{
                                                        var etapa = "Oportunidad";
                                                        var color = "";

                                                        if (etapa == "Oportunidad")
                                                        {
                                                            color = "backgr-etapa-oportunidadColor";
                                                        }
                                                        else if (etapa == "Entrega")
                                                        {
                                                            color = "backgr-etapa-entregaColor";
                                                        }
                                                        else
                                                        {
                                                            color = "backgr-etapa-cierreColor";
                                                        }

                                                    }
                                                    <div class="row d-flex d-inline-flex @color pos-etapa etiquetadopropietarioEtapaProceso position-absolute">

                                                        <h6 class="col ms-2 my-auto size-text-etapa me-1"> <b>Etapa :</b> @PV.Etapa</h6>

                                                    </div>

                                                    <div class="row mb-3 " style="margin-top: 3rem;">
                                                        <div class="col-10 d-flex w-auto  pos-tipo-opera ">

                                                            <h6 class=" ms-2 my-auto fw-bold size-text-publi" style="    width: 157px;">Tipo de operación : </h6>
                                                            <h6 class="  my-auto size-text-publi">@PV.Operacion</h6>
                                                        </div>

                                                        <div class="col d-flex justify-content-end position-absolute" style="right:15px;">

                                                            <a class="  style-vermas "
                                                           title="Ver detalles" asp-controller="Propietarios" asp-action="PDetallesPropiedadEP" asp-route-PROPIEDADID=@PV.IDPropiedadG>

                                                                <i class="fa-solid fa-eye"></i>
                                                            </a>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    }
                                }


                            </div>

                            <footer class="d-flex row justify-content-center">
                                <nav id="paginacionPLcarta" aria-label="" class="my-3 d-flex justify-content-center">
                                </nav>
                            </footer>

                        </div>

                        <!--tabla para en proceso-->
                        <div id="Tablaproceso" class="tabcontent5 px-0 shadow mb-3  mt-3">
                            <div class="table-wrapper-scroll-y my-custom-scrollbar table-responsive mt-2">
                                <table class="table tabla-hover">
                                    <thead>

                                        <tr>
                                            <th class="col">Fecha</th>
                                            <th class="col">Propiedad</th>
                                            <th class="col">Dirección</th>
                                            <th class="col">Broker</th>
                                            <th class="col">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                    @foreach (var PVT in Model.PropiedadesPL)
                                    {
                                        <tr id="IDPropiedadTabla_@PVT.IDPropiedad" class=" table PL tabla-hover">
                                            <td class="fw-lighter text-center ">@PVT.fechaPublicacion</td>
                                            <td class="fw-light text-center">@PVT.Titulo</td>
                                            <td class="fw-light text-center">@PVT.Direccion</td>
                                            <td class="fw-light text-center">@PVT.NBroker </td>
                                            <td>
                                                <div class=" d-flex justify-content-between">
                                                    <a class="style-vermas2" asp-controller="Propietarios" asp-action="PDetallesPropiedadEP" asp-route-PROPIEDADID=@PVT.IDPropiedadG
                                                      title="Ver detalles">
                                                        <i class="fa-solid fa-eye"></i>
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                    </tbody>


                                </table>
                            </div>

                            <footer class="d-flex row justify-content-center">
                                <nav id="paginacionPLtable" aria-label="" class="my-3  d-flex justify-content-center">
                                </nav>
                            </footer>

                        </div>
                    </div>
                </div>
            </div>


        </div>
        <!--enterate-->
        <div class="col col-md-12 col-lg-12 col-xl-4 ">
            <div class="more-options d-cards ">
                <!-- <div class="col-6 col-md-6 col-lg-6 col-xl-12">
                     <div class="calendar scrollhost">
                         <div class="calendarioo" id="calendar"></div>
                     </div>
                 </div>-->

                <div class="col-6 col-md-6 col-lg-6 col-xl-12">
                    <div class="enterate shadow">
                        <div class="title-enterate">InfoRumm</div>
                        <div class="img-enterate">
                            <div id="carouselExampleFade" class="carousel slide carousel-fade" data-bs-ride="carousel">
                                <div class="carousel-inner">

                                    <div class="carousel-item active">
                                        <img src="~/img/imagenes-mesa-de-control/CAPACITACION-RUMMET.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                    <div class="carousel-item">

                                        <img src="~/img/imagenes-mesa-de-control/CRM-RUMMET.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="~/img/imagenes-mesa-de-control/POST-BROKERS.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="~/img/imagenes-mesa-de-control/POST-ESPACIOS.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="~/img/imagenes-mesa-de-control/POST-FOTOGRAFOS.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="~/img/imagenes-mesa-de-control/POST-PROPIEDAD.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="~/img/imagenes-mesa-de-control/POST-REDES.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                    <div class="carousel-item">
                                        <img src="~/img/imagenes-mesa-de-control/TIPS-RUMMET.jpg" alt="" class="img-fluid d-block fotoInforumm" />
                                    </div>
                                </div>
                                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<!--Scripts-->
<script src="~/js/effects.js"></script>

<script src="~/js/PropiedadesTab.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>



<!--SCRIPT-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

<script src="~/js/script-step.js"></script>
<script src="~/js/script.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="~/assets/js/jquery-2.2.4.min.js" type="text/javascript"></script>
<script src="~/js/archivo.js"></script>



<!--   Core JS Files   -->

<script src="~/assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="~/assets/js/jquery.bootstrap.js" type="text/javascript"></script>


<!--  Plugin for the Wizard -->
<script src="~/assets/js/material-bootstrap-wizard.js"></script>

<!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
<script src="~/assets/js/jquery.validate.min.js"></script>


<script src="~/js/paginacionPropietario.js"></script>


<script>
    tarjetas = document.querySelectorAll(".OpenCarta")

    for (elemento of tarjetas) {
        elemento.click();
    }

</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
