@model BrokersModel;
@{
    Layout = "_NavUsuarios";
    ViewData["Title"] = "Rummet / Nuevo broker";
}

<!--NUEVO BROKER-->

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" />
    <link href="~/assets/css/material-bootstrap-wizard.css" rel="stylesheet">
    <link href="~/assets/css/material-bootstrap-wizard-2.css" rel="stylesheet">

    <link rel="stylesheet" href="~/css/style_form_nuevo_usuario.css">
    <link rel="stylesheet" href="~/css/Style_form.css" />

    <link rel="icon" type="image/png" sizes="16x16" href="~/img/imagen-logo/logo_oficial.png">

    <link rel="stylesheet" href="~/css/estilosGenerales.css" />

    <script src="https://kit.fontawesome.com/e43b4d35fb.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">






</head>


<!--animacion-->
<ul class="circles">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
</ul>

<h4 class="tituloVista ms-4">Nuevo broker</h4>
<!--container -->
<div class="container-lg ">
    <div class="row">
        <div class="col">
            <!--      Wizard container        -->

            <div class="wizard-container">

                <div class="card wizard-card contenedorGeneralBlanco" data-color="orange" id="wizardProfile">
                    <form id="myform" asp-controller="Brokers" asp-action="Guardar" enctype="multipart/form-data">

                        <div class="wizard-navigation">
                            <ul>
                                <li><a href="#generales" data-toggle="tab">Generales</a></li>
                                <li><a href="#personales" data-toggle="tab">Personales</a></li>
                                <li><a href="#documentacion" data-toggle="tab">Documentación</a></li>
                                <li><a href="#contratos" data-toggle="tab">Contratos</a></li>
                            </ul>
                        </div>

                        <div class="tab-content">

                            <!--pestaña de generales-->
                            <div class="tab-pane" id="generales">
                                <div class="row ">
                                    <label for="" class="">
                                        <h5 class="ms-1 text-black">Datos del broker</h5>
                                    </label>


                                    <div class="row">
                                        <!--columna izquierda-->
                                        <div class="col-4">

                                            <div class="col mb-2 d-flex flex-column flex-wrap  align-items-center">
                                                <label for="t_operacion" class="align-content-start fw-normal fs-6  color_letter mb-3" style="margin: -1% 0 0 0;">
                                                    Selecciona tu imagen
                                                    de perfil
                                                </label>

                                                <div class="imgPerfilContainer fileContainer text-center">
                                                    <input type="file" asp-for="imgPerfil" id="archivo" class="" onchange="cargarImagen()">
                                                    <img src="/img/image-form-usuario/Recurso_usuario.png" id="preview" alt="" class="profile_picture rounded-circle">
                                                    <label for="" class="  text-center btn-orange text-light mt-1 size_text_profile" style="    padding: 0.1vw 1vw;   border-radius: 7px;">
                                                        Dale click
                                                        aquí
                                                    </label>
                                                </div>
                                            </div>
                                        </div>

                                        <!--columna derecha donde estan los datos -->
                                        <div class="col-8 row row-cols-1 d-flex ">

                                            <div class="row row-cols-3  ">

                                                <!-- Nombre-->
                                                <div class="col" style="margin: 0px 0 0 -8px;">
                                                    <div class="d-inline form-group  is-empty">
                                                        <div class="d-flex ">
                                                            <label for="nombres" class=" color_letter2 size-text control-label" style="font-size:16px;">Nombre(s)</label>
                                                        </div>
                                                        @* --------- JENNY --------------- *@
                                                        <input type="text" asp-for="Nombre" class="mt-2 form-control" aria-required="true" oninput="limitarLetrasConAcentos(this)" required>
                                                        <span class="material-input"></span>
                                                    </div>
                                                </div>

                                                <!--Apellido Materno-->
                                                <div class=" col">
                                                    <div class="d-inline form-group  is-empty">
                                                        <div class="d-flex">
                                                            <label for="" class=" color_letter2 size-text control-label" style="font-size:16px;">Apellido paterno</label>
                                                        </div>
                                                        @* ---------------- JENNY ------------- *@
                                                        <input type="text" asp-for="ApellidoP" class="mt-2 form-control ms-1" aria-required="true" oninput="limitarLetrasConAcentos(this)" required>
                                                        <span class="material-input"></span>
                                                    </div>
                                                </div>

                                                <!--Apellido Paterno-->
                                                <div class=" col">
                                                    <div class="d-inline form-group   is-empty">
                                                        <div class="d-flex">
                                                            <label for="" class=" color_letter2 size-text control-label" style="font-size:16px;">Apellido materno</label>
                                                        </div>
                                                        @* ------------ JENNY ----------------- *@
                                                        <input type="text" asp-for="ApellidoM" class="form-control mt-2  ms-1" aria-required="true" oninput="limitarLetrasConAcentos(this)">
                                                        <span class="material-input"></span>
                                                    </div>


                                                </div>

                                            </div>


                                            <!--fcha de cumpleaños-->
                                            <div class="row row-cols-3">


                                                <div class="d-flex form-group flex-column col px-0" style=" margin-top: 1.2vw;">
                                                    <div class="d-flex ms-2 ">
                                                        <label for="nombres" class=" color_letter2 size-text control-label" style="font-size:16px;">Fecha de cumpleaños</label>
                                                    </div>

                                                    <input type="date" class=" form-control mt-2 w-auto" asp-for="FecCump" aria-required="true">
                                                    <span class="material-input"></span>

                                                </div>

                                                <div class="d-flex form-group flex-column col px-0" style=" margin-top: 1.2vw;">
                                                    <div class="d-flex ms-2 ">
                                                        <label for="nombres" class=" color_letter2 size-text control-label" style="font-size:16px;">Asociado</label>
                                                    </div>

                                                    <input type="text" class=" mt-4 form-control ms-1" id="asociadoName" asp-for="Asociado" aria-required="true">
                                                    <input type="hidden" class=" mt-4 form-control ms-1" id="asociadoId" asp-for="AsociadoID" aria-required="true">
                                                    <span class="material-input"></span>

                                                </div>


                                            </div>


                                        </div>

                                        <hr>

                                    </div>
                                    <br>


                                    <!--seccion de contacto-->
                                    <h5 class="ms-1 mt-3 text-black ">Contacto</h5>
                                    <div class="row pb-3">
                                        <div class=" d-inline-flex mt-2 ms-3 row row-cols-3">

                                            <div class="d-flex form-group flex-column col px-0 ">
                                                <label for="correo_elec" class=" control-label color_letter2" style="font-size:16px;">Correo electrónico </label>
                                                <input type="text" asp-for="Correo" class=" form-control " style=" margin-top: 3%;" required />

                                            </div>

                                            <div class="d-flex form-group flex-column col ">
                                                <label for="tel" class=" color_letter2 size-text control-label " style="font-size:16px;">Teléfono</label>

                                                <div class="d-inline-flex" style="width:88%;">

                                                    <select class="d-flex form-control" style="width: 100px;" asp-for="Lada">
                                                        <option value="+52" class="flag-icon flag-icon-mx">+52 (MX)</option>
                                                        <option value="+54" class="flag-icon flag-icon-mx">+54 (ARG)</option>
                                                        <option value="+57" class="flag-icon flag-icon-gb">+57 (COL)</option>
                                                        <option value="+53" class="flag-icon flag-icon-gb">+53 (CUB)</option>
                                                        <option value="+1" class="flag-icon flag-icon-us">+1 (EE.UU)</option>
                                                        <option value="+48" class="flag-icon flag-icon-us">+48 (PL)</option>
                                                        <option value="+44" class="flag-icon flag-icon-gb">+44 (UK)</option>

                                                    </select>
                                                    <input type="tel" asp-for="Tel" min="0" maxlength="10" class="mt-2 ms-1 form-control NobtnNumber"
                                                           onkeypress="return event.charCode >= 48 && event.charCode <= 57" required />
                                                </div>
                                            </div>

                                            <div class="d-flex form-group flex-column col ">
                                                <label for="n_propiedad" class=" color_letter2 size-text control-label" style="font-size:16px;">Teléfono 2</label>
                                                <div class="d-inline-flex" style="width:88%;">

                                                    <select class="d-flex form-control" style="width: 100px;" asp-for="Lada2">
                                                        <option value="+52" class="flag-icon flag-icon-mx">+52 (MX)</option>
                                                        <option value="+54" class="flag-icon flag-icon-mx">+54 (ARG)</option>
                                                        <option value="+57" class="flag-icon flag-icon-gb">+57 (COL)</option>
                                                        <option value="+53" class="flag-icon flag-icon-gb">+53 (CUB)</option>
                                                        <option value="+1" class="flag-icon flag-icon-us">+1 (EE.UU)</option>
                                                        <option value="+48" class="flag-icon flag-icon-us">+48 (PL)</option>
                                                        <option value="+44" class="flag-icon flag-icon-gb">+44 (UK)</option>

                                                    </select>
                                                    <input type="tel" asp-for="Tel2" min="0" maxlength="10" class="mt-2 ms-1 form-control NobtnNumber"
                                                           onkeypress="return event.charCode >= 48 && event.charCode <= 57" />
                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                    <hr>

                                    <!--seccion de direccion-->
                                    <div class="row ">
                                        <label for="direccion">
                                            <h5 class="ms-1 mt-3 text-black">Dirección</h5>
                                        </label>
                                        <div class="ms-2 mt-2 d-flex justify-content-center row row-cols-4">

                                            <div class="d-inline-flex col flex-column form-group  ">
                                                <label for="c.p" class=" control-label color_letter2">
                                                    <h6>C.P.</h6>
                                                </label>
                                                <input type="text" asp-for="CP" name="CP" min="0" id="CP" class="form-control NobtnNumber"
                                                       onkeypress="return event.charCode >= 48 && event.charCode <= 57" required />

                                            </div>

                                            <div class="d-inline-flex col flex-column form-group size-nombre-calle  ">

                                                <label for="n_calle" class=" control-label color_letter2">
                                                    <h6>Nombre de la calle</h6>
                                                </label>
                                                <input asp-for="Calle" type="text" id="n_calle" class="form-control" required />

                                            </div>

                                            <div class="d-inline-flex col flex-column form-group">

                                                <label for="n_exterior" class=" control-label color_letter2">
                                                    <h6>No. exterior</h6>
                                                </label>
                                                <input type="text" asp-for="NoExt" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                       class="form-control NobtnNumber size-numeros-ext" required />

                                            </div>

                                            <div class="d-inline-flex col flex-column form-group">

                                                <label for="n_interior" class=" control-label color_letter2">
                                                    <h6>No. interior</h6>
                                                </label>
                                                <input type="text" asp-for="NoInt" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                       class="form-control NobtnNumber size-numeros-ext" />

                                            </div>

                                        </div>

                                        <div class="ms-2 mt-2 mt-4 d-flex justify-content-center row row-cols-4">

                                            <div class="d-inline-flex size-nombre-calle col form-group flex-column">

                                                <label for="colonia" class=" control-label color_letter2">
                                                    <h6>Colonia</h6>
                                                </label>

                                                <!--COLONIA CON FUNCIONALIDAD-->
                                                <select asp-for="Colonia" id="Colonia" class="w-100 mt-2 size-select2  form-control rounded" required>
                                                    <option value="">--Seleccione una colonia--</option>
                                                </select>

                                                <input type="text" asp-for="Colonia" name="Colonia" id="colonia" class="d-none form-control"
                                                       placeholder=" " required /><!--required-->
                                                <input type="text" asp-for="NColonia" name="NColonia" id="NColonia" class="d-none form-control"
                                                       placeholder=" " required />

                                                <input asp-for="IDcolonia" class="d-none" id="IDcolonia" value="form-control" required />

                                            </div>

                                            <div class="d-inline-flex size-nombre-calle col form-group flex-column">

                                                <label for="municipio" class=" control-label color_letter2">
                                                    <h6>Alcaldía o municipio</h6>
                                                </label>
                                                <input type="text" asp-for="Municipio" name="Municipio" id="n_Municipio"
                                                       class="form-control" readonly />

                                            </div>

                                            <div class="d-inline-flex size-nombre-calle col form-group flex-column">

                                                <label for="estado" class=" control-label color_letter2">
                                                    <h6>Estado</h6>
                                                </label>
                                                <input type="text" asp-for="Estado" id="n_Estado"
                                                       class="form-control" readonly />

                                            </div>

                                            <div class="d-inline-flex size-nombre-calle col form-group flex-column">

                                                <label for="pais" class=" control-label color_letter2">
                                                    <h6>País</h6>
                                                </label>
                                                <input type="text" asp-for="Pais" id="n_Pais"
                                                       class="form-control" readonly />

                                            </div>

                                        </div>
                                    </div>

                                    <label class="mt-3 ms-3" style="font-size:16px;color:#696969;">
                                        @Html.CheckBox("Facturacion", false)
                                        Esta direccion es la misma que la de facturacion

                                    </label> <br>

                                    <hr />

                                    <label for="">
                                        <h5 class="ms-2 text-black">Zona</h5>
                                    </label>



                                    <div class="input-group justify-content-between d-lg-inline-flex mt-2">
                                        <div class="mt-1 ms-2 col">
                                            <label for="t_operacion" class=" align-content-start cotrol-label color_letter2 mb-3">Selecciona tus zonas</label>
                                            <ul class="lista-estados row row-cols-lg-4 row-cols-md-2 row-cols-sm-1" style="font-size:14px;">
                                                @for (var i = 0; i < Model.ZonasL.Count; ++i)
                                                {


                                                    <li class="d-lg-inline-flex">
                                                        @Html.CheckBoxFor(model => model.ZonasL[i].isSelected, new { @class = "form-check-input", @id = @Model.ZonasL[i].Zona, data_nombre=@Model.ZonasL[i].Zona })
                                                        @Html.HiddenFor(model => model.ZonasL[i].Zona)
                                                        <label class="ms-1">@Model.ZonasL[i].Zona</label>
                                                    </li>

                                                }

                                            </ul>


                                        </div>



                                    </div>
                                    <div class="mb-2 ms-3 cotrol-label color_letter2">Zonas seleccionadas: <span id="estados-seleccionados"></span></div>




                                </div>
                            </div>

                            <!--pestaña de personales-->
                            <div class="tab-pane" id="personales">
                                <div class="row">

                                    <label for="datos_personales" class="fw-bolder ms-lg-2">
                                        <h5 class="ms-1 text-black">Datos personales</h5>
                                    </label>
                                    <div class="mt-3 input-group d-inline-flex row row-cols-2 ms-3">


                                        <!--columna del RFC Y EL CURP -->
                                        <!-- JENNY -->
                                        <div class="d-flex form-group col flex-column ">
                                            <label for="rfc" class="color_letter2 col ">RFC</label>
                                            <input maxlength="13" type="text" asp-for="Rfc" oninput="limitarLetrasYNumeros(this)" class="form-control datosMAyusc" required /><!--required-->
                                        </div>
                                        <div class="d-flex form-group col flex-column ">
                                            <label for="curp" class="color_letter2 ">CURP</label>
                                            <input type="text" maxlength="18" asp-for="Curp" oninput="limitarLetrasYNumeros(this)" class="form-control datosMAyusc" required /><!--required-->
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <hr />
                                    <div class="ms-2 me-3">

                                        <label for="d_bancarios" class=" align-content-start fw-bold  pe-lg-5 mb-3 size-text">
                                            <h5 class="ms-1 text-black">Datos bancarios</h5>
                                        </label>

                                    </div>
                                    <div class="input-group d-inline-flex row row-cols-2 ms-3">

                                        <div class="d-flex form-group col flex-column ">
                                            <label for="clabe_inter" class="  color_letter2 ">
                                                Clabe
                                                interbancaria
                                            </label>
                                            <input type="text" maxlength="18" min="0" asp-for="Clabe" class="mt-2 form-control NobtnNumber" required
                                                   min="0" class="form-control text-center ms-2 w-75 mt-1"
                                                   onkeypress="return event.charCode >= 48 && event.charCode <= 57" />
                                        </div>

                                        <div class="d-flex form-group col flex-column  ">
                                            <label for="banco" class=" color_letter2 " style="margin-bottom: 4.4%;">Banco</label>

                                            @Html.DropDownListFor(model => model.Banco, new
                                            SelectList(Model.BancoL,"BancoList","BancoList"), "--Banco--",new
                                            {@class=" rounded text-center size-select2 w-50 "})
                                        </div>

                                    </div>
                                </div>
                            </div>


                            <!--VISTA 3 pestaña => documentacion-->
                            <div class="tab-pane" id="documentacion">
                                <div class="row">
                                    <label for="documentos" class="">
                                        <h5 class="ms-1  text-black">Documentos</h5>
                                    </label>
                                    <br>
                                    <div class="row">
                                        <div class="col-lg-8">
                                            <div class=" my-custom-scrollbar  table-height table-responsive">
                                                @* <table class="table table-hover border-gray h-100 border">
                                                    <tbody>
                                                        @{
                                                            var documento = Model.DocEUsuario;
                                                            int estadoDocumento;
                                                            string fileNombre;
                                                            List<string> DocList = new List<string>();
                                                            DocList.Add("Identificación oficial (Passaporte, INE, FM3)");
                                                            DocList.Add("CURP");
                                                            DocList.Add("RFC");
                                                            DocList.Add("Comprobante de domicilio");
                                                            DocList.Add("Constancia de situación fiscal");
                                                            DocList.Add("Estado de cuenta (caratula)");
                                                            int indice = 0;
                                                        }
                                                        @for (int i = 0; i < 6; i++)
                                                        {
                                                            indice = indice + 1;
                                                            <tr class="tabla-hover">
                                                                <th scope="row">@indice</th>
                                                                <td colspan="2">@DocList[i]</td>
                                                                <td>
                                                                    <div class="fileContainer2 input-group btn btnm" style="background-color:transparent">
                                                                        <input type="file" asp-for="DocEUsuario[i].Documento" id="archivoInput_@i" class="position-absolute top-0 start-0 claseBtnTruco"
                                                                               onchange="SubirVisualizar(@i)">
                                                                        <i class="fa-solid fa-file-arrow-up size-icon "></i>
                                                                        <input asp-for="DocEUsuario[i].IDdocUsuario" class="d-none" value="@documento[i].IDdocUsuario" />
                                                                        <input asp-for="DocEUsuario[i].IDtipoArchivo" value="@documento[i].IDtipoArchivo" class="d-none">
                                                                        <input asp-for="DocEUsuario[i].archivoNombre" id="DocumentoNombre_@i" value="@documento[i].archivoNombre" class="d-none">
                                                                        <input class="d-none" id="txt64_@i" value="@documento[i].txt64">
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="fileContainer3  input-group btn btnm" style="background-color:transparent">
                                                                        <input type="button" name="d_archivo" id="archivoInput_delete_@i" onclick="borrarArchivo(@i,'brokers',@documento[i].IDdocUsuario, @documento[i].IDStatusDoc);"
                                                                               class="eliminarprueba position-absolute top-0 start-0 claseBtnTruco">
                                                                        <i class="fa-solid fa-trash-can size-icon "></i>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="fileContainer3 input-group btn btnm" style="background-color:transparent">
                                                                        <input type="button" name="v_archivo4" id="" onclick="visorExt(@i)" class="position-absolute top-0 start-0 claseBtnTruco">
                                                                        <i class="fa-solid fa-eye size-icon "></i>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <input id="IDdoc_@i" class="d-none" value="@documento[i].IDdocUsuario" />
                                                                    <div class="soloIconos" id="IconoEstatus_@i"></div>
                                                                    <input id="statusDoc_@i" value="@Model.DocEUsuario[i].IDStatusDoc" class="d-none">
                                                                </td>
                                                            </tr>
                                                        }
                                                    </tbody>

                                                </table> *@
                                            </div>
                                            <div class="input-group d-flex justify-content-start">
                                            </div>
                                        </div>
                                        <div class="col border">
                                            <div class="input-group d-flex mx-auto">
                                                <div id="visorArchivo" class="size-file d-flex justify-content-end mx-auto">
                                                </div>


                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>

                        <div class="wizard-footer">
                            <div class="pull-right d-flex justify-content-between">
                                <input type='button' class='btn btn-previous btn-fill btn-dark-blue text-white btn-wd' name='Regresar' value='Regresar' />
                                <input type='button' class='btn btn-next btn-fill btn-warning  btn-wd' name='siguiente' value='Siguiente' />
                                <input type='submit' class="btn btn-finish btn-fill btn-warning  btn-wd" name='finalizar' value='Finalizar' />
                            </div>

                            <div class="pull-right d-flex justify-content-end">
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </form>
                </div>
            </div> <!-- wizard container -->
        </div>
    </div><!-- fin del row -->
</div>

<!-- Modal para aprobar o rechazar documentos-->
@*
<div id="openModal" class="modalDialog">
    <div>
        <a href="#close" title="Close" class="close" onclick="resetModal()">X</a>
        <div>
            <div class="modal-header" id="modal-header">
                <h1 class="modal-title fs-5">¿Que deseas hacer con este documento?</h1>

            </div>
            <div class="modal-body mx-auto">
                <div class="d-flex d-inline-flex " style="margin: 0 0 0 5vw;">
                    <button class="btn btn-success mr-1" id="aprbarBtn" onclick="aprovar()">Aprobar</button>

                    <button class="btn btn-danger ms-1" id="rechazrBtn" onclick="rechazar()">Rechazar</button>
                </div>
                <!--submodal rechazar -->
                <div class="mt-2 text-danger " id="motivoRechazo" style="display:none;">
                    <h4 class="text-danger ">Motivo de rechazo </h4>
                    <div class="form-floating">
                        <label for="floatingTextarea" style="display:none;">¿Por que rechazas el documento?</label>
                        <textarea class="txtareaModalrechazo" placeholder="¿Por que rechazas el documento?" id="floatingTextarea"></textarea>
                    </div>
                    <a class="btn btn-danger " href="#close" style=" margin: 0 0 0 25%;">Guardar cambios</a>
                </div>

                <!--submodal aprobar -->
                <div class=" text-success" id="motivoAprovado" style="display:none;">
                    <h6>¿Estas seguro que deseas aprovar este documentos?</h6>

                    <button class="btn btn-success " href="#close" style="margin: 1vw 0 0 8vw;">
                        Guardar cambios
                    </button>
                </div>
            </div>

        </div>
    </div>
</div>
*@



<!--SCRIPTS//////////////////////-->
@*<script>
    function rechazar() {
        document.getElementById('motivoRechazo').style.display = 'block';
        document.getElementById('rechazrBtn').style.display = 'none';
        document.getElementById('aprbarBtn').style.display = 'none';
        document.getElementById('modal-header').style.display = 'none';
    }

    function aprovar() {
        document.getElementById('rechazrBtn').style.display = 'none';
        document.getElementById('aprbarBtn').style.display = 'none';
        document.getElementById('motivoAprovado').style.display = 'block'
        document.getElementById('modal-header').style.display = 'none';
    }

    function resetModal() {
        document.getElementById('motivoRechazo').style.display = 'none';
        document.getElementById('motivoAprovado').style.display = 'none';
        document.getElementById('aprbarBtn').style.display = 'block';
        document.getElementById('rechazrBtn').style.display = 'block';
        document.getElementById('modal-header').style.display = 'block';
    }

</script>*@


<!--SCRIPTS-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
<script src="~/js/script.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="~/assets/js/jquery-2.2.4.min.js" type="text/javascript"></script>
<script src="~/js/archivo.js"></script>

<script src="~/js/script-step.js"></script>


<!--   Core JS Files   -->

<script src="~/assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="~/assets/js/jquery.bootstrap.js" type="text/javascript"></script>


<!--  Plugin for the Wizard -->
<script src="~/assets/js/material-bootstrap-wizard.js"></script>

<!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
<script src="~/assets/js/jquery.validate.min.js"></script>

<script src="~/js/brokersScript.js" cache=true></script>



<script>
    const miSelect = document.getElementById("Colonia");
    const miInput = document.getElementById("NColonia");

    miSelect.addEventListener("change", function () {
        const opcionesSeleccionadas = miSelect.selectedOptions;

        for (let i = 0; i < opcionesSeleccionadas.length; i++) {
            const opcion = opcionesSeleccionadas[i];
            const textoOpcion = opcion.text;
            console.log("Opcion " + textoOpcion);
            miInput.value = textoOpcion;
        }
    });
</script>




<!--funcion para cargar la imagen de perfil-->
<script>
    function cargarImagen() {
        var archivoSeleccionado = document.getElementById('archivo').files[0];
        var lector = new FileReader();

        lector.onload = function (evento) {
            var imagenPerfil = document.getElementById('preview');
            imagenPerfil.src = evento.target.result;
        }

        lector.readAsDataURL(archivoSeleccionado);
    }



    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });



    // Obtener el elemento
    var SinToolTip = document.querySelectorAll(".fileContainer3");

    for (elemento of SinToolTip) {
        // Remover el atributo data-toggle
        elemento.removeAttribute("data-toggle");

        // Remover el atributo data-placement
        elemento.removeAttribute("data-placement");
    }

</script>


<script src="~/js/bloquearBoton.js"></script>


<!--Autocomplete-->
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

<script>

    $(document).ready(function () {
        $("#asociadoName").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "@Url.Action("BusquedaUsuarioVinc","Brokers")?busqueda=" + request.term,
                    dataType: "json",
                    success: function (data) {
                        response(data);
                    }
                });

            },
            select: function (event, ui) {
                // Actualizar el campo visible con la etiqueta seleccionada
                $("#asociadoName").val(ui.item.label);

                // Actualizar el campo oculto con el valor seleccionado
                $("#asociadoId").val(ui.item.value);

                return false; // Evitar que la etiqueta se coloque automáticamente en el campo visible
            },
            change: function (event, ui) {
                var selectedItem = ui.item;
                if (!selectedItem) {
                    // El valor seleccionado no existe en la fuente de datos
                    $("#asociadoId").val("0"); // Establecer el valor en 0
                }
            }
        });

    });


</script>

@* --------------------- JENNY --------------- *@
<script>
    function limitarLetrasConAcentos(input) {
        // Obtén el valor actual del input
        var valor = input.value;

        // Reemplaza todo lo que no sea letra o acento con una cadena vacía
        var valorFiltrado = valor.replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑüÜ\s]/g, '');

        // Actualiza el valor del input con el valor filtrado
        input.value = valorFiltrado;
    }
</script>

@* -------------- JENNY ----------------- *@
<script>
    function limitarLetrasYNumeros(input) {
        // Obtén el valor actual del input
        var valor = input.value;
        var valorFiltrado = valor.replace(/[^a-zA-Z0-9]/g, '');
        input.value = valorFiltrado;
    }
</script>